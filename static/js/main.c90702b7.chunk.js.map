{"version":3,"sources":["ImageGalleryItem-ui/ImageGalleryItem.module.css","Modal-ui/Modal.module.css","ImageGallery-ui/ImageGallery.module.css","Button-ui/button.module.css","ImageGalleryItem-ui/ImageGalleryItem.js","ImageGallery-ui/ImageGallery.js","Searchbar-ui/Searchbar.js","Button-ui/Button.js","Modal-ui/Modal.js","App.js","api.js","index.js","Searchbar-ui/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","id","img","tags","onImgClick","className","styles","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","webformatURL","memo","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","trim","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","Button","modalRoot","document","querySelector","Modal","openModal","modalImg","useEffect","window","addEventListener","onEscCloseModal","removeEventListener","code","createPortal","Overlay","target","largeImageURL","App","setImages","page","setPage","status","setStatus","loader","setLoader","setOpenModal","setModalImg","query","fetch","then","res","ok","json","Promise","reject","Error","fetchImages","hits","length","toast","error","prevState","catch","finally","scroll","showModal","scrollTo","top","documentElement","scrollHeight","behavior","imgForModal","find","image","state","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c90702b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3o_vp\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__25pl9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3EruC\",\"Modal\":\"Modal_Modal__2wnDb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2LYQ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1bBsE\"};","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ id, img, tags, onImgClick }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => {\n        onImgClick(id);\n      }}\n    >\n      <img src={img} alt={tags} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  img: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { memo } from 'react';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem-ui/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onImgClick }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images &&\n        images.map(({ id, webformatURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              id={id}\n              img={webformatURL}\n              tags={tags}\n              onImgClick={onImgClick}\n              key={id}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default memo(ImageGallery);\n","import { useState } from 'react';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleQueryChange = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchQuery}\n          onChange={handleQueryChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\nimport styles from './button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ openModal, modalImg }) {\n  useEffect(() => {\n    window.addEventListener('keydown', onEscCloseModal);\n    return function cleanup() {\n      window.removeEventListener('keydown', onEscCloseModal);\n    };\n  });\n\n  const onEscCloseModal = e => {\n    if (e.code === 'Escape') {\n      openModal();\n    }\n  };\n\n  const onCloseModal = e => {\n    if (e.currentTarget === e.target) {\n      openModal();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={onCloseModal}>\n      <div className={styles.Modal}>\n        <img src={modalImg.largeImageURL} alt={modalImg.tags} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState, useEffect } from 'react';\nimport styles from './styles.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { fetchImages } from './api';\n\nimport ImageGallery from './ImageGallery-ui/ImageGallery';\nimport Searchbar from './Searchbar-ui/Searchbar';\nimport Button from './Button-ui/Button';\nimport Modal from './Modal-ui/Modal';\nimport Loader from 'react-loader-spinner';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState('idle');\n  const [loader, setLoader] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [modalImg, setModalImg] = useState(null);\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    if (page === 1) {\n      setImages([]);\n    }\n    setLoader(true);\n    fetchImages(searchQuery, page)\n      .then(res => {\n        const { hits } = res;\n        if (hits.length === 0) {\n          toast.error('Nothing was found for your query.');\n        }\n        setImages(prevState => [...prevState, ...hits]);\n        setStatus('resolved');\n      })\n      .catch(() => {\n        setStatus('rejected');\n      })\n      .finally(() => {\n        setLoader(false);\n        scroll();\n      });\n  }, [page, searchQuery]);\n\n  const handleFormSubmit = query => {\n    setSearchQuery(query);\n    setPage(1);\n  };\n\n  const handleBtnClick = () => {\n    setPage(state => state + 1);\n    setLoader(true);\n  };\n\n  const showModal = () => {\n    setOpenModal(!openModal);\n  };\n\n  const onImgClick = id => {\n    const imgForModal = images.find(image => image.id === id);\n    setModalImg(imgForModal);\n    showModal();\n  };\n\n  const scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {status === 'idle' && null}\n      {status === 'resolved' ? (\n        <div>\n          <ImageGallery images={images} onImgClick={onImgClick} />\n          {images.length > 11 && loader === false ? (\n            <Button onClick={handleBtnClick} />\n          ) : null}\n        </div>\n      ) : null}\n      {loader && (\n        <Loader\n          className=\"loader\"\n          type=\"ThreeDots\"\n          color=\"#FF0000\"\n          height={100}\n          width={100}\n        />\n      )}\n      {status === 'rejected' && toast.error('Some proplems with server')}\n      {openModal && <Modal openModal={showModal} modalImg={modalImg} />}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","const URL = 'https://pixabay.com/api/';\nconst API_KEY = '21964701-aaf906e928d661c46acce114f';\n\nexport const fetchImages = function (query, page) {\n  return fetch(\n    `${URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Some proplems with server'));\n  });\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2UNiy\",\"SearchForm\":\"Searchbar_SearchForm__cJF4I\",\"SearchFormButton\":\"Searchbar_SearchFormButton__27p8g\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2fN5U\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2QbRa\"};"],"sourceRoot":""}